<!DOCTYPE html>

<html lang="norwegian" xml:lang="norwegian">

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Lise Rødland" />

<meta name="date" content="2020-08-20" />

<title>Seminar 1</title>

<script src="Seminar1_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="Seminar1_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="Seminar1_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="Seminar1_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="Seminar1_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="Seminar1_files/navigation-1.1/tabsets.js"></script>
<link href="Seminar1_files/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="Seminar1_files/highlightjs-9.12.0/highlight.js"></script>
<script src="Seminar1_files/kePrint-0.0.1/kePrint.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Seminar 1</h1>
<h4 class="author">Lise Rødland</h4>
<h4 class="date">2020-08-20</h4>

</div>


<div id="seminaropplegget" class="section level1">
<h1>Seminaropplegget</h1>
<p>De fleste seminarer vil bestå av to deler:</p>
<ol style="list-style-type: decimal">
<li>En introduksjon om dagens emner.</li>
<li>Oppgaver relatert til dagens emner. For å lære seg R så er det <em>helt</em> nødvendig å anvende kunnskapen.</li>
</ol>
<p>I år har vi fire introduksjonsseminarer som vil bli etterfulgt av en digital prøve mandag 14. august. På introduksjonsseminarene skal vi lære alt fra å laste inn datasett til å kjøre egne analyser for så å plotte resultatene. Vi skal lære ting som vil være anvendbare langt utover statistisk analyse.</p>
<p>Neste uke tilbyr vi fordypningsseminarer for de av dere som vil jobbe videre med R. Disse anbefales spesielt til dere som skal skrive en statistisk oppgave, men det er selvfølgelig ikke et krav for å delta. På fordypningsseminarene vil vi gå nærmere inn på R-kode for flernivå-analyse, faktoranalyse og faste effekter. Vi håper så klart å se mange av dere der også. Det blir ikke noen prøve om innholdet i fordypningsseminarene.</p>
</div>
<div id="hjemmeoppgaven" class="section level1">
<h1>Hjemmeoppgaven</h1>
<p>Om du ikke allerede har bestemt deg så begyn å tenk på hjemmeoppgaven nå. Om du skal skrive en statistisk oppgave så er det fint å ha hjemmeoppgaven i bakhodet når vi går gjennom ting på seminar. Ta gjerne en titt på <a href="https://dataverse.harvard.edu/dataverse/harvard">Harvard dataverse</a>. Mange forskere bruker Harvard dataverse til å publisere replikasjonsdata når de skriver artikler. Du kan søke på temaer du synes er interessante eller en spesiell artikkel du syns er spennende.</p>
<p>Om du har sett deg ut en artikkel du ikke finner på Harvard dataverse så kan dere sjekke om det står noe om hvor data er tilgjengelig i artikkelen. Noen forskere tilgjengeliggjør også data i tidsskriftet artikkelen ble publisert i eller på egne hjemmesider, mens andre (dessverre) ikke publiserer data i det hele tatt.</p>
</div>
<div id="om-å-lære-r" class="section level1">
<h1>Om å lære R</h1>
<p>Det er noen ting som er kjekt å vite om R:</p>
<ol style="list-style-type: decimal">
<li>Øvelse gjør mester.</li>
<li>Mye kan gjøres på flere måter.</li>
<li>Samarbeid gjør det hele mye enklere (og morsommere).</li>
</ol>
<p>Det betyr at for å få mest mulig ut av seminarene så må dere jobbe med oppgavene vi legger ut mellom seminarene - gjerne sammen med noen andre. I begynnelsen kan det være vanskelig å vite hvorfor en kode ikke vil kjøre, men det å søke opp løsninger på nett og i R sine hjelpefiler er en viktig del av å lære seg R. Noen av svarene dere finner er kanskje ikke prikk like på det vi har gjennomgått i seminar, men det betyr ikke at det ikke er en fin måte å løse det på.</p>
<p>I tillegg oppfordrer vi til å stille masse spørsmål - både til medstudenter og oss seminarledere. Bruk medstudenter, nettressurser og R sine hjelpefiler aktivt, samarbeid og hjelp hverandre når dere løser oppgaver så vil prøven gå veldig fint.</p>
<p>Jeg vil lenke til undervisningsmateriell på Canvas. Selve opplegget blir lastet opp på github. Der finner dere også opplegget for tidligere år, men det er mappen H20-seminarer som gjelder. Opplegget i år er en del annerledes enn tidligere år selv om vi skal gjennom mye av det samme.</p>
</div>
<div id="første-seminaropplegg" class="section level1">
<h1>Første seminaropplegg</h1>
<div id="mål-for-i-dag" class="section level4">
<h4>Mål for i dag:</h4>
<ol style="list-style-type: decimal">
<li>Bli kjent med hverandre</li>
<li>Få R og Rstudio til å virke på egen PC</li>
<li>Forstå hvordan Rstudio er satt opp og hvordan man kjører kode</li>
<li>Forstå grunnleggende konsepter i R: indeksering, objekter, funksjoner og pakker</li>
<li>Løse noen oppgaver på egenhånd</li>
</ol>
<p>Dersom du enda ikke har gjennomført installasjonsguiden[<strong>sett inn oppdatert lenke</strong>], ta en titt på den etterpå. I mellomtiden, finn deg en person som har R og Rstudio installert, og sett deg sammen med den personen med ok korona-avstand.</p>
<p>Dersom du har gjennomført installasjonsguiden, uten å ha fått Rstudio til å virke, så ser vi på dette etterpå.</p>
<p>Det første vi skal gjøre er å lage et lite datasett. Snakk med personen ved siden av deg og finn ut:</p>
<ul>
<li>Hva hen heter</li>
<li>Hvor gammel hen er</li>
<li>Hvor hen tok bacheloren sin</li>
<li>En funfact :)</li>
</ul>
<p>Etterpå tar vi en runde og da skal du presentere personen ved siden av deg. Informasjonen skal vi bruke til å lage et lite datasett. Bruk tre minutter.</p>
</div>
</div>
<div id="rstudio" class="section level1">
<h1>Rstudio</h1>
<p>Først litt helt grunnleggende om R og Rstudio. I Rstudio skriver vi kode i script. Scriptene kan lagres og gjør arbeidet vårt reproduserbart. Etter at vi har skrevet kode i script, sender vi koden til console for evaluering med <em>ctrl/cmd</em> + <em>enter</em>. Dersom resultet av koden ikke er et objekt eller et plot, vises resultatet i console (vinduet under script).</p>
</div>
<div id="objekter" class="section level1">
<h1>Objekter</h1>
<p>For å bli kjent med R så skal vi bruke informasjonen fra bli-kjent-runden til å lage et lite datasett. Det første vi gjør er å lage objekter av en type som heter vektor. Vektorene skal inneholder informasjon om navn, alder og hvor dere tok bachelorgraden deres. I R kan en vektor defineres som en ordnet lise av verdier, dvs. at man lagrer verdier en bestemt rekkefølge. Når verdiene er i en bestemt rekkefølge så kan vi slå vektorene sammen for å lage et datasett. I dette kurset kan dere for det meste tenke på vektorer som variabler fra et datasett. Vi lager objekter ved hjelp av assignment operatoren ´&lt;-´.</p>
<pre class="r"><code># Her ser dere et eksempel på R-kode
# Jeg bruker # for å skrive inn en kommentar som ikke skal evalueres av R

# Her lager vi vektoren Thea, Ole, Mari
# Vi bruker ctrl/cmd + enter for å kjøre koden
c(&quot;Thea&quot;, &quot;Ole&quot;, &quot;Mari&quot;)</code></pre>
<pre><code>## [1] &quot;Thea&quot; &quot;Ole&quot;  &quot;Mari&quot;</code></pre>
<pre class="r"><code># Her lagrer vi vektoren Thea, Ole, Mari som et objekt vi kaller navn:  
navn &lt;- c(&quot;Thea&quot;, &quot;Ole&quot;, &quot;Mari&quot;)</code></pre>
<p>Når vi lagrer objekter, returnerer ikke R en verdi i Console. I stedet dukker objektet opp i vinduet Environment (til høyre for scriptet).</p>
<pre class="r"><code>alder &lt;- c(23, 20, 25)
alder</code></pre>
<pre><code>## [1] 23 20 25</code></pre>
<pre class="r"><code>bachelor &lt;- c(&quot;UIO&quot;, &quot;UIB&quot;, &quot;UIS&quot;)
bachelor</code></pre>
<pre><code>## [1] &quot;UIO&quot; &quot;UIB&quot; &quot;UIS&quot;</code></pre>
<pre class="r"><code>data &lt;- data.frame(navn, alder, bachelor) # Her slår vi de tre vektorene sammen for å lage et datasett
data</code></pre>
<pre><code>##   navn alder bachelor
## 1 Thea    23      UIO
## 2  Ole    20      UIB
## 3 Mari    25      UIS</code></pre>
<p>Kan du finne din rad?</p>
<p>Det finnes flere typer objekter i R. Vektor og datasett er de to typene vi skal fokusere på idag. Vi skal straks tilbake til datasettet vi har laget, men først skal vi ta en kort intro til R og Rstudio.</p>
</div>
<div id="intro-til-r" class="section level1">
<h1>Intro til R</h1>
<p>I R skriver vi kode i script. Du åpner et nytt script ved å trykke på den hvite firkanten med en grønn sirkel og et plusstegn oppe til venstre i Rstudio. Etter at vi har skrevet kode i scriptet, sender vi koden til console for evaluering med ctrl/cmd + enter. Dersom output fra koden ikke er et objekt eller plot, vises resultatet i console (vinduet under script). La oss forsøke med koden <code>"Hello World!"</code></p>
<pre class="r"><code>&quot;Hello world!&quot;</code></pre>
<pre><code>## [1] &quot;Hello world!&quot;</code></pre>
<p>R Kan også brukes som en kalkulator:</p>
<pre class="r"><code>1 + 1  # addisjon</code></pre>
<pre><code>## [1] 2</code></pre>
<pre class="r"><code>2 - 3  # subtraksjon</code></pre>
<pre><code>## [1] -1</code></pre>
<pre class="r"><code>4/2    # divisjon</code></pre>
<pre><code>## [1] 2</code></pre>
<pre class="r"><code>2 * 2  # multiplikasjon</code></pre>
<pre><code>## [1] 4</code></pre>
<pre class="r"><code>2^3    # potens</code></pre>
<pre><code>## [1] 8</code></pre>
<pre class="r"><code>exp(2) # eksponentiering</code></pre>
<pre><code>## [1] 7.389056</code></pre>
<pre class="r"><code>log(2) # logaritme (default er naturlig logaritme)</code></pre>
<pre><code>## [1] 0.6931472</code></pre>
<pre class="r"><code>2 * (4-2)/(4-2) # Parentesregler fungerer som i vanlig algebra: den innerste parentesen regnes ut først</code></pre>
<pre><code>## [1] 2</code></pre>
</div>
<div id="logiske-tester" class="section level1">
<h1>Logiske tester</h1>
<p>R kan evaluere logiske utsdagn og bedømme om de er ´TRUE´ eller ´FALSE´.</p>
<pre class="r"><code>1 == 2                                # tester om 1 er lik 2</code></pre>
<pre><code>## [1] FALSE</code></pre>
<pre class="r"><code>2 == 2                                # tester om 2 er lik 2</code></pre>
<pre><code>## [1] TRUE</code></pre>
<pre class="r"><code>&quot;Statsvitenskap&quot; == &quot;statsvitenskap&quot;  # Logiske tester kan også brukes på tekst</code></pre>
<pre><code>## [1] FALSE</code></pre>
<pre class="r"><code>&quot;statsvitenskap&quot; == &quot;statsvitenskap&quot;  # R er imidlertid sensitivt til store og små bokstaver</code></pre>
<pre><code>## [1] TRUE</code></pre>
<pre class="r"><code>1 &lt;= 2                                # Tester om 1 er mindre enn eller lik 2</code></pre>
<pre><code>## [1] TRUE</code></pre>
<pre class="r"><code>1 &gt;= 2                                # Tester om 1 er større enn eller lik 2</code></pre>
<pre><code>## [1] FALSE</code></pre>
<pre class="r"><code>1 != 2                                # Tester om 1 er ulik 2</code></pre>
<pre><code>## [1] TRUE</code></pre>
<pre class="r"><code>1 == 2 | 1 == 1                       # Tester om en av de to påstandene 1 er lik 2 eller 1 er lik 1 er sanne</code></pre>
<pre><code>## [1] TRUE</code></pre>
<pre class="r"><code>1 == 2 &amp; 1 == 1                       # Tester om begge de to påstandene 1 er lik 2 og 1 er lik 1 er sanne</code></pre>
<pre><code>## [1] FALSE</code></pre>
<div id="oversikt-over-logiske-operatorer" class="section level3">
<h3>Oversikt over logiske operatorer</h3>
<table class="table table-striped" style="width: auto !important; ">
<thead>
<tr>
<th style="text-align:left;">
Operator
</th>
<th style="text-align:center;">
Betydning
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
<code>==</code>
</td>
<td style="text-align:center;">
er lik
</td>
</tr>
<tr>
<td style="text-align:left;">
&lt;
</td>
<td style="text-align:center;">
mindre enn
</td>
</tr>
<tr>
<td style="text-align:left;">
&gt;
</td>
<td style="text-align:center;">
større enn
</td>
</tr>
<tr>
<td style="text-align:left;">
&lt;=
</td>
<td style="text-align:center;">
mindre eller lik
</td>
</tr>
<tr>
<td style="text-align:left;">
&gt;=
</td>
<td style="text-align:center;">
større eller lik
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>!=</code>
</td>
<td style="text-align:center;">
ikke lik
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>!x</code>
</td>
<td style="text-align:center;">
ikke x
</td>
</tr>
<tr>
<td style="text-align:left;">
<code>|</code>
</td>
<td style="text-align:center;">
eller
</td>
</tr>
<tr>
<td style="text-align:left;">
&amp;
</td>
<td style="text-align:center;">
og
</td>
</tr>
</tbody>
</table>
<p>Vi kommer til å bruke disse opearterne mye, spesielt når vi gjør endringer i datasett som å lage nye variabler. Det er derfor viktig at dere forstår hvordan disse fungerer. Den beste måten å få denne foreståelse på er å øve.</p>
</div>
</div>
<div id="pakker" class="section level1">
<h1>Pakker</h1>
<p>R er open source og mange flinke utviklere bidrar til å gjøre R bedre. Disse utviklerne deler kode (i hovedsak funksjoner) gjennom pakker. For å kunne kode fra en pakke må vi kjøre følgende kodelinjer:</p>
<pre class="r"><code>install.packages(&quot;pakkenavn&quot;) # Laster ned filene pakken består av fra nett til PC - må bare gjøres en gang
library(pakkenavn)            # Tilgjengeliggjør pakken i R-sesjonen, må gjøres hver gang du vil bruke pakken i en ny sesjon</code></pre>
<p>Vi skal for det meste bruke kode som kommer fra pakker i <a href="https://www.tidyverse.org/learn/">tidyverse</a>. La oss installere disse pakkene:</p>
<pre class="r"><code>install.packages(&quot;tidyverse&quot;) # Fjern hashtag på starten av denne og neste linje!
install.packages(&quot;haven&quot;) # legg merke til at vi bruker &quot;&quot; i install.packages(), men ikke i library()
library(tidyverse)</code></pre>
</div>
<div id="indeksering" class="section level1">
<h1>Indeksering</h1>
<p>Nå skal vi tilbake til datasettet vi lagde basert på bli-kjent-runden. Dersom vi ønsker å hente ut informasjon om en person så kan vi bruke indeksering. Indeksering lar oss spesifisere et eller flere elementer i et objekt. Det er flere måter å indeksere på og dette er nøye beskrevet i kapittel 1 i <strong>Lær deg R</strong> som er anbefalt pensum.</p>
<p>Dersom vi for eksempel er interessert i å hente ut all informasjonen om Thea så kan det gjøres på mange måter:</p>
<pre class="r"><code># Vi kan bruke base R (som beskrevet i Lær deg R)
data[navn == &quot;Thea&quot;, ]      # vi ønsker alle kolonner/variabler for observasjone/radene med verdien &quot;Thea&quot; </code></pre>
<pre><code>##   navn alder bachelor
## 1 Thea    23      UIO</code></pre>
<pre class="r"><code>data[data$navn == &quot;Thea&quot;, ] # vi ønsker alle kolonner/variabler for observasjone/radene med verdien &quot;Thea&quot;</code></pre>
<pre><code>##   navn alder bachelor
## 1 Thea    23      UIO</code></pre>
<pre class="r"><code>data[1, ]                   # Thea er den første raden (observasjonen) i datasettet</code></pre>
<pre><code>##   navn alder bachelor
## 1 Thea    23      UIO</code></pre>
<pre class="r"><code># Vi kan også bruke tidyverse-pakken dplyr:
data %&gt;%                    
  filter(navn == &quot;Thea&quot;) </code></pre>
<pre><code>##   navn alder bachelor
## 1 Thea    23      UIO</code></pre>
<p>Vi kan også hente ut informasjon i en variabel/kolonne:</p>
<pre class="r"><code># Ved hjelp av base R
data$alder                  </code></pre>
<pre><code>## [1] 23 20 25</code></pre>
<pre class="r"><code>data[, &quot;alder&quot;]</code></pre>
<pre><code>## [1] 23 20 25</code></pre>
<pre class="r"><code>data[, 2]                    # Alder er kolonne nr to fra venstre</code></pre>
<pre><code>## [1] 23 20 25</code></pre>
<pre class="r"><code># Ved hjelp av dplyr 
data %&gt;% 
  select(alder)</code></pre>
<pre><code>##   alder
## 1    23
## 2    20
## 3    25</code></pre>
<p>Til slutt så kan vi hente ut informasjon om en variabel for en observasjon:</p>
<pre class="r"><code># Ved hjelp av base R
data[navn == &quot;Thea&quot;, &quot;alder&quot;]</code></pre>
<pre><code>## [1] 23</code></pre>
<pre class="r"><code>data[data$navn == &quot;Thea&quot;, &quot;alder&quot;]</code></pre>
<pre><code>## [1] 23</code></pre>
<pre class="r"><code># Ved hjelp av dplyr
data %&gt;% 
  filter(navn == &quot;Thea&quot;) %&gt;% 
  select(alder)</code></pre>
<pre><code>##   alder
## 1    23</code></pre>
</div>
<div id="ulike-typer-vektorer-i-r" class="section level1">
<h1>Ulike typer vektorer i R</h1>
<p>Det finnes flere ulike objekter i R. Til nå har vi blitt introdusert for to av dem: datasett og vektorer. Hva slags objekt det er har noe å si for hva du kan gjøre med det. I tillegg finnes det ulike typer, eller klasser som vi kaller det, av vektorer. I tabellen under finner dere en grov inndeling av ulike typer vektorer i R (se også s. 42-47 i Lær deg R):</p>
<table class="table table-striped" style="width: auto !important; ">
<thead>
<tr>
<th style="text-align:left;">
Atomic vector
</th>
<th style="text-align:left;">
List
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
numeric
</td>
<td style="text-align:left;">
blanding
</td>
</tr>
<tr>
<td style="text-align:left;">
integer
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
factor
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
logical
</td>
<td style="text-align:left;">
</td>
</tr>
</tbody>
</table>
<p>En hyppig årsak til at en funksjon ikke fungerer, er at en vektor/variabel ikke er i det formatet vi forventet. Tabellen gir en oversikt over variabeltypene vi skal jobbe med. Atomic vector har kun verdier av en type, mens lister kan ha flere typer verdier, samt bestå av flere variabler.</p>
<p>Hvilket format tror du navn, alder og bachelor har?</p>
<p>Det kan vi sjekke med funksjonen <code>class()</code>.</p>
<pre class="r"><code>class(data$navn)</code></pre>
<pre><code>## [1] &quot;character&quot;</code></pre>
<pre class="r"><code>class(data$alder)</code></pre>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<pre class="r"><code>class(data$bachelor)</code></pre>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p>Som dere ser er alder numeric, mens navn og bachelor er character. Her er det hva objektet er lagret som som teller, ikke hvordan det ser ut i datasettet. Selv om noe ser ut som tall i datasettet så er det ikke sikkert det er registrert som tall av R. Heldigvis kan dette ofte løses ved hjelp av en funksjoner som <code>as.numeric()</code>, <code>as.character()</code> og <code>as.factor()</code>.</p>
<pre class="r"><code># Her lager vi en ny variabel alder2 der ver ber R lagre alder som character
data$alder2 &lt;- as.character(data$alder)</code></pre>
<p>Om vi ser på datasettet etter at vi har laget den nye variabelen så ser vi at alder og alder2 ser helt like ut. Begge fremstår som tall vi kan gjøre regneoperasjoner på, men bare en av dem er det. Prøv gjerne selv å kjøre funksjonen <code>mean()</code> som regner ut gjennomsnittet på alder2.</p>
</div>
<div id="funksjoner-i-r" class="section level1">
<h1>Funksjoner i R</h1>
<p>Dersom vi ønsker å gjøre noe i R, får vi som regel en funksjon til å gjøre jobben for oss. En funksjon tar i mot verdi(er), gjerne lagret i form av et R-objekt, utfører operasjoner basert på input, og produserer nye verdier. En typisk R-funksjon har følgende syntaks:</p>
<pre class="r"><code>aFunction(x = &quot;R-objekt&quot;, arg = &quot;alternativ for figurens oppførsel&quot;)
## Merk: dette er ikke en faktisk funksjon i R. Funksjoner kan også ha andre syntakser. </code></pre>
<p>Vi har allerede vært innom flere funksjoner i dag; <code>c()</code>, <code>class()</code>, <code>filter()</code>, <code>select()</code> og <code>mean()</code>. Dersom vi vil lære mer om en funksjon, kan vi spørre R om hjelp med <code>?</code>. Kjør <code>?c()</code> og <code>mean()</code></p>
<p>En funksjon er en kodesnutt der vi spesiferer en input. Funksjonen utfører operasjoner basert på input, og produserer deretter et resultat (eller output). Det finnes funksjoner for å løse de fleste tenkelige og utenkelige problemer. Noen funksjoner er det lurt å kunne, fordi du får bruk for dem hele tiden, men det er altfor mange funksjoner til å lære seg alle. En av de viktigste ferdighetene i R, er derfor å lære seg hvordan man kan finne og anvende funksjoner for å løse utfordringer man står overfor. Dette skal vi øve på i R-undervisningen.</p>
<p>Noen funksjoner er base R og vi trenger ikke gjøre noe for å bruke dem. Andre må vi laste ned og installere pakker for å bruke som med <code>select()</code> og <code>filter()</code> fra <code>tidyverse</code>.</p>
<p>Vi skal nå bruke noen funksjoner til å finne ut mer informasjon fra datasettet vårt:</p>
<pre class="r"><code>summary(data)</code></pre>
<pre><code>##      navn               alder         bachelor            alder2         
##  Length:3           Min.   :20.00   Length:3           Length:3          
##  Class :character   1st Qu.:21.50   Class :character   Class :character  
##  Mode  :character   Median :23.00   Mode  :character   Mode  :character  
##                     Mean   :22.67                                        
##                     3rd Qu.:24.00                                        
##                     Max.   :25.00</code></pre>
<pre class="r"><code># Finner minimumsverdi (den laveste alderen)
min(data$alder, na.rm = TRUE) # na.rm = TRUE sier at missing skal droppes i beregningen</code></pre>
<pre><code>## [1] 20</code></pre>
<pre class="r"><code># Finner maksimumsveriden (den høyeste alderen)
max(data$alder, na.rm = TRUE)</code></pre>
<pre><code>## [1] 25</code></pre>
<pre class="r"><code># Finner gjennomsnittalder
mean(data$alder, na.rm = TRUE)</code></pre>
<pre><code>## [1] 22.66667</code></pre>
<pre class="r"><code># Finner medianalderen
median(data$alder, na.rm = TRUE)</code></pre>
<pre><code>## [1] 23</code></pre>
<pre class="r"><code># Finner standardavviker
sd(data$alder, na.rm = TRUE)</code></pre>
<pre><code>## [1] 2.516611</code></pre>
<pre class="r"><code># Finner varians
var(data$alder, na.rm = TRUE)</code></pre>
<pre><code>## [1] 6.333333</code></pre>
<pre class="r"><code># Finner kvantilverdiene
quantile(data$alder, na.rm = TRUE)</code></pre>
<pre><code>##   0%  25%  50%  75% 100% 
## 20.0 21.5 23.0 24.0 25.0</code></pre>
<pre class="r"><code># Finner forskjellig deskriptiv statistikk for en variabel
summary(data$alder)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   20.00   21.50   23.00   22.67   24.00   25.00</code></pre>
<pre class="r"><code># Finner forskjellig deskriptiv statiskk for alle variabler i datasettet
summary(data)</code></pre>
<pre><code>##      navn               alder         bachelor            alder2         
##  Length:3           Min.   :20.00   Length:3           Length:3          
##  Class :character   1st Qu.:21.50   Class :character   Class :character  
##  Mode  :character   Median :23.00   Mode  :character   Mode  :character  
##                     Mean   :22.67                                        
##                     3rd Qu.:24.00                                        
##                     Max.   :25.00</code></pre>
<pre class="r"><code># install.packages(&quot;moments&quot;)
library(moments)

# Finner skjevhet ved hjelp av moments-pakken
skewness(data$alder, na.rm = TRUE) </code></pre>
<pre><code>## [1] -0.2390631</code></pre>
<pre class="r"><code># Finner kurtose ved hjelp av moments-pakken
kurtosis(data$alder, na.rm = TRUE)</code></pre>
<pre><code>## [1] 1.5</code></pre>
<pre class="r"><code># Får en tabell med de ulike studiestedene
table(data$bachelor, useNA = &quot;always&quot;) # useNA = &quot;always&quot; betyr at vi også vil ha med antall &quot;missing&quot; </code></pre>
<pre><code>## 
##  UIB  UIO  UIS &lt;NA&gt; 
##    1    1    1    0</code></pre>
</div>
<div id="laste-inn-data" class="section level1">
<h1>Laste inn data</h1>
<p>Til slutt så skal vi laste inn dataene dere skal bruke i oppgavene i etterpå. Dersom dere skal gjøre statistisk analyse, er som regel den første seksjonen import og forberedelse av data. En styrke ved R, er at det er mulig å importere mange ulike filtyper, både fra en mappe på pcen din og fra en url på internett. Jeg går gjennom import av filer fra excel, stata, spss og R, men vit at det finnes mange andre muligheter.</p>
<p>Når du skal laste inn eller lagre noe lokalt på pc-en så vil R til enhver tid forvente at filnavn du refererer til befinner seg i <strong>working directory</strong>, som er en mappe på pcen din. For å sjekke hva nåværende <strong>working directory</strong> er, og hvilke filer som finnes i den mappen, kan du skrive følgende kode (jeg har gjemt egen output):</p>
<pre class="r"><code>getwd()
list.files()</code></pre>
<p>For å endre <strong>working directory</strong>, bruker dere følgende kode:</p>
<pre class="r"><code>setwd(&quot;C:/Users/Navn/R/der/du/vil/jobbe/fra&quot;)   # For windows
setwd(&quot;~/R/der/du/vil/jobbe/fra&quot;)               # For mac/linux
# Merk at R bruker / for å skille mellom mappenivåer, mens filutforsker i Windows bruker \ 
# Kopierer du mappebanen fra filutforsker må du derfor huske å snu skråstrekene i R</code></pre>
<p>Et annet alternativ er å starte et nytt prosjekt i R, ved å trykke på <em>File</em> og deretter <em>New Project</em> i menyen øverst til venstre i Rstudio. Da får du muligheten til å lage en ny mappe på pcen din som blir satt til working directory. Senere kan du sette denne mappen til working directory med Open project fra menyen (jeg anbefaler å bruke prosjekter, særlig til hjemmeoppgaven).</p>
<p>Datasett kommer i mange ulike filformater. Noen vanlige formater er csv, dta (Stata-datasett), sav (SPSS-datasett) og Rdata. Hvilket format dataene dine har bestemmer hvilken funksjon du må bruke for å laste inn datasettet. Her er eksempler på noen funksjoner for å laste inn data:</p>
<pre class="r"><code>library(tidyverse) # read_funksjoner fra readr i tidyvsere
datasett &lt;- read_filtype(&quot;filnavn.filtype&quot;) # Laster inn og lagrer datasettet som et objekt
read_csv(&quot;filnavn.csv&quot;) # for .csv, sjekk også read.table
load(&quot;&quot;) # For filer i R-format.

library(haven) # Fra haven-pakken - dette skal vi se på i senere seminar
read_spss(&quot;filnavn.sav&quot;)  # for .sav-filer fra spss
read_dta(&quot;filnavn.dta&quot;) # for .dta-filer fra stata</code></pre>
<p>Nå skal vi laste inn datasettet vi skal bruke til å løse oppgaver i neste time.</p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
